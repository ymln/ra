(ns ra.task-list-test
  (:require [clojure.test :refer :all]
            [ra.task-list :refer :all]
            [ra.core-test :as ct]))

(def test-task-list
;;;id name             time                            finances                                         quality                              deps
  [[1 "Web-сайт"       {:Z 5  :A 3}                    {:Z 5000  :A 10000}                              {:Z 1   :A 0.3}                       [4]]
   [2 "Проектирование" {:Z 4  :A 5}                    {:Z 5000  :A 5000}                               {:Z 1   :A 0.4}                     [6 5]]
   [3 "Разработке"     {:Z 4  :A 3}                    {:Z 5000  :A 5000}                               {:Z 1   :A 0.4}                     [7 8]]
   [4 "Тестирование"   {:Z 10 :A 8 :B 3  :C 5}         {:Z 20000 :A 15000 :B 5000  :C 10000}            {:Z 1   :A 0.6 :B 0.2 :C 0.5}         [3]]
   [5 "Архитектура"    {:Z 15 :A 6       :C 5}         {:Z 25000 :A 15000          :C 15000}            {:Z 0.9 :A 0.9        :C 0.7}          []]
   [6 "Дизайн"         {:Z 20      :B 3  :C 5}         {:Z 30000          :B 10000 :C 15000}            {:Z 0.5        :B 0.8 :C 0.9}          []]
   [7 "Front-end"      {:Z 25      :B 4  :C 7}         {:Z 40000          :B 30000 :C 25000}            {:Z 0.6        :B 0.7 :C 0.8}         [2]]
   [8 "Back-end"       {:Z 30 :A 15      :C 15 :C2 20} {:Z 50000 :A 15000          :C 15000 :C2 25000}  {:Z 0.8 :A 0.7        :C 0.7 :C2 0.9} [2]]])

(deftest task-list-test
  (is (= (dissoc (ra ct/w test-task-list 100000 60) :x)
         (dissoc (ct/my-ra               100000 60) :x))))

(def large-wbs-tasks-w (repeat 288 1))

(def large-wbs-tasks
  [[1 "Network OS Extended Addressing Project (and Survey Packet)" [10 15 17 13 15] [100 99 99 100 100] [98 110 111 109 100] [2 74 118 279 280 283 286 288]]
   [2 "Phase 2 -- Kickoff" [2 6 3 4 2] [334 300 300 299 300] [78 73 72 91 91] [3 11 16 22 26 29 32 37 42 52 55 60 64 69]]
   [3 "Investigation & Analysis" [1 2 1 3 2] [232 195 198 167 219] [65 65 74 57 74] [4 5 6 7 8 9 10]]
   [4 "Brainstorm Sessions (Router Survey Pkt, Format & Protocol)" [3 9 9 8 9] [532 550 440 562 405] [32 36 30 31 31] []]
   [5 "Brainstorm Sessions (IP Route Topology Modifications)" [3 8 7 9 8] [452 479 364 397 401] [64 64 70 64 75] [4]]
   [6 "Brainstorm Sessions (ODE Dossier versioning impact)" [1 5 4 8 3] [326 294 299 308 301] [50 56 55 50 47] [5]]
   [7 "Preliminary Critical test definitions" [2 12 8 4 7] [399 356 301 332 332] [69 65 62 66 66] [6]]
   [8 "Preliminary Critical test execution" [15 23 26 34 19] [168 157 137 129 111] [44 47 43 49 45] [7]]
   [9 "Document Critical test results" [4 8 5 9 9] [548 451 593 541 438] [2 2 3 2 2] [8]]
   [10 "Evaluate Preliminary Critical test results" [2 3 4 3 4] [789 746 662 830 645] [20 19 21 21 19] [9]]
   [11 "Early Scheduling" [1 5 3 2 3] [395 470 411 426 345] [50 53 43 46 43] [12 13 14 15]]
   [12 "First complete draft of schedule" [4 7 8 9 6] [388 362 355 363 409] [20 20 20 20 23] [10]]
   [13 "Review first draft of schedule" [2 2 5 3 4] [423 388 427 429 467] [1 1 1 2 1] [12]]
   [14 "Schedule update" [2 4 5 3 2] [843 986 964 965 708] [86 79 91 97 103] [13]]
   [15 "First draft of schedule complete" [0 0 0 0 0] [438 371 498 516 403] [87 73 96 77 102] [14]]
   [16 "Project Vision" [1 2 2 3 2] [289 295 286 346 280] [6 6 6 6 6] [17 18 19 20 21]]
   [17 "Initial Draft of Vision" [4 5 4 5 6] [842 778 910 942 960] [98 113 108 100 97] [15]]
   [18 "1st Round of Team Reviews" [2 4 2 4 2] [836 834 935 688 711] [19 17 19 18 19] [17]]
   [19 "Ongoing Vision Updates" [4 4 6 5 4] [324 306 313 287 296] [45 39 41 50 47] [18]]
   [20 "Final Round of Team Review" [4 5 4 6 8] [489 541 405 559 494] [0 0 0 0 0] [19]]
   [21 "Project Vision Complete" [0 0 0 0 0] [238 932 328 82 982] [18 16 21 19 16] [20]]
   [22 "Team Roles List" [0 0 0 0 0] [382 289 732 732 739] [5 5 5 6 5] [23 24 25]]
   [23 "Formulate Team Roles List" [1 3 2 3 1] [152 135 148 166 143] [78 76 84 91 67] [15]]
   [24 "Review & Update Team Roles List" [1 2 3 2 4] [932 906 102 110 96] [57 51 56 61 66] [23]]
   [25 "Team Roles List Complete" [0 0 0 0 0] [849 712 974 882 975] [93 80 102 89 93] [24]]
   [26 "Meeting Guidelines" [1 1 1 1 1] [849 905 688 730 688] [54 53 54 56 51] [27 28]]
   [27 "Formulate Meeting Guidelines" [1 3 2 2 2] [849 106 72 811 102] [40 43 43 43 36] [15]]
   [28 "Meeting Guidelines Complete" [0 0 0 0 0] [892 107 974 130 115] [66 68 64 68 74] [27]]
   [29 "Team Responsibility Matrix" [1 2 1 2 1] [843 731 710 714 841] [97 99 88 102 111] [30 31]]
   [30 "Formulate Responsibility Matrix" [1 3 2 3 1] [593 494 574 500 641] [25 27 22 25 25] [21]]
   [31 "Team Responsibility Matrix Complete" [0 0 0 0 0] [732 637 829 607 763] [93 77 77 77 108] [30]]
   [32 "Architectural Specification" [1 3 2 1 2] [732 711 722 747 863] [90 84 87 106 96] [33 34 35 36]]
   [33 "Initial draft of Architectural Specification" [4 7 3 5 4] [489 521 577 549 454] [15 16 14 14 14] [18]]
   [34 "Review Architectural Specification" [1 1 1 2 2] [573 533 530 562 630] [9 9 9 10 9] [33]]
   [35 "Update Architectural Specification" [2 3 3 2 2] [923 806 104 105 782] [66 76 71 66 57] [34]]
   [36 "Architecutral Specification Complete" [0 0 0 0 0] [943 117 137 881 960] [28 25 28 24 25] [35]]
   [37 "Product Innovations Risks Assessment" [2 3 2 3 3] [942 102 934 840 793] [38 45 32 33 32] [38 39 40 41]]
   [38 "Formulate Risk Assessment List" [3 3 3 4 4] [478 439 446 505 489] [46 39 53 48 51] [31]]
   [39 "Review Risk Assessment List" [1 2 2 2 1] [832 916 959 921 892] [94 94 102 101 104] [38]]
   [40 "Update Risk Assessment List" [1 2 2 2 1] [832 865 961 998 875] [92 78 76 108 93] [39]]
   [41 "Product Innovation Risk Assessment Complete" [0 0 0 0 0] [445 439 360 493 480] [97 95 97 86 116] [40]]
   [42 "Functional & Requirements Specifications" [2 2 3 3 3] [746 886 666 756 731] [20 22 23 20 22] [43 44 45 46 47 48 49 50 51]]
   [43 "Initial Update DBMgmtSys Enhanced API Spec" [5 6 4 5 5] [195 166 188 221 276] [18 16 16 16 19] [10]]
   [44 "Ongoing cleanup of DBMgmtSys design document (in parallel)" [1 11 14 12 11] [137 135 202 183 166] [19 19 17 21 21] [43]]
   [45 "Review DBMgmtSys Enhanced API Spec" [1 2 2 1 1] [183 149 154 181 214] [37 36 43 36 43] [44]]
   [46 "Update DBMgmtSys Enhanced API Spec" [2 3 3 3 2] [280 265 233 250 256] [48 52 53 49 56] [45]]
   [47 "DBMgmtSys Specification Complete" [0 0 0 0 0] [272 265 251 249 255] [49 50 45 56 53] [46]]
   [48 "Initial Update Router Spec (Ext Addr. & Survey Pkt.)" [6 5 8 8 6] [148 107 157 128 131] [1 2 2 1 2] [10]]
   [49 "Review Router Spec (Ext Addr. & Survey Pkt.)" [1 2 2 2 2] [216 190 200 223 287] [90 99 105 86 74] [48]]
   [50 "Update Router Spec (Ext Addr. & Survey Pkt.)" [2 3 2 2 2] [177 200 205 179 142] [69 78 73 76 81] [49]]
   [51 "Router Requirements Specification Complete" [0 0 0 0 0] [218 248 255 220 177] [30 35 29 34 28] [50]]
   [52 "Critical Test Definition" [1 1 2 2 1] [268 296 236 261 231] [81 89 70 89 84] [53 54]]
   [53 "Write Critical Test Definition" [1 2 2 1 2] [266 264 214 233 210] [1 2 1 2 2] [10 41]]
   [54 "Critical Test Definition Complete" [0 0 0 0 0] [840 805 954 865 683] [41 37 35 34 34] [53]]
   [55 "Preliminary System Verification Test Plan" [2 2 2 3 2] [184 160 129 146 144] [25 22 27 23 24] [56 57 58 59]]
   [56 "Write Preliminary System VerificationTest Plan" [4 5 4 4 4] [210 189 179 779 165] [91 79 106 78 98] [18 45 51]]
   [57 "Review Preliminary System VerificationTest Plan" [1 1 1 2 1] [266 339 255 334 224] [44 46 40 37 50] [56]]
   [58 "Update Preliminary System VerificationTest Plan" [2 2 2 2 2] [286 252 311 272 202] [81 85 71 91 75] [57]]
   [59 "Preliminary System VerificationTest Plan Complete" [0 0 0 0 0] [174 168 150 142 173] [48 57 40 44 44] [58]]
   [60 "Project Schedule with Resources" [2 3 3 3 2] [794 871 643 895 880] [2 3 3 2 2] [61 62 63]]
   [61 "Get Team Input on Estimates" [1 2 1 2 1] [185 199 189 179 143] [42 45 43 38 47] [54]]
   [62 "Revise Schedule" [1 1 2 2 2] [300 285 326 279 315] [79 65 88 71 92] [61]]
   [63 "Project Schedule Complete" [0 0 0 0 0] [265 286 205 205 494] [27 28 27 27 25] [62]]
   [64 "List of Tools and Equipment Required" [2 2 3 2 2] [155 123 111 595 631] [29 30 32 25 26] [65 66 67 68]]
   [65 "Write List of Tools and Equipment" [1 2 1 2 1] [275 275 382 302 284] [1 1 1 2 2] [63]]
   [66 "Review List of Tools and Equipment" [0 0 0 0 0] [400 412 440 473 376] [96 88 102 103 102] [65]]
   [67 "Update List of Tools and Equipment" [0 0 0 0 0] [118 184 133 162 114] [5 6 5 6 5] [66]]
   [68 "List of Tools and Equipment Complete" [0 0 0 0 0] [125 110 171 185 191] [80 91 69 74 85] [67]]
   [69 "Critical Issues List and Contingency Plans" [1 1 1 1 1] [233 251 207 284 223] [98 83 114 84 106] [70 71 72 73]]
   [70 "Write Critical Issues List" [2 3 3 3 2] [263 241 237 220 284] [57 52 50 56 53] [68]]
   [71 "Review Critical Issues List" [1 1 1 1 2] [471 378 471 462 526] [14 14 15 14 14] [70]]
   [72 "Update Critical Issues List" [1 1 2 2 1] [270 238 118 242 246] [52 51 61 50 45] [71]]
   [73 "Critical Issues List Complete" [0 0 0 0 0] [275 263 294 221 249] [73 69 83 63 61] [72]]
   [74 "Phase 3 -- Design" [3 4 4 3 3] [285 350 357 348 291] [57 67 47 63 48] [75 81 91 106 110 114]]
   [75 "RouterProtocol Cleanup" [1 1 2 1 2] [121 127 136 118 156] [32 34 33 36 33] [76 77 78 79 80]]
   [76 "done with other project" [0 0 0 0 0] [144 191 146 120 185] [72 76 69 60 76] []]
   [77 "Integrate RouterProtocol Design Spec with MgmtAPI" [3 4 4 3 3] [4 4 4 4 4] [6 7 6 6 6] [76]]
   [78 "RouterProtocol Spec Review" [1 2 2 1 2] [845 684 883 897 687] [55 65 60 52 65] [77]]
   [79 "RouterProtocol Spec Update (Final)" [1 2 2 2 2] [108 105 103 120 126] [55 61 55 60 54] [78]]
   [80 "RouterProtocol Spec Cleanup Complete" [0 0 0 0 0] [259 277 272 256 118] [1 2 1 2 1] [79]]
   [81 "Enhanced DBMgmtSys Design" [1 2 2 2 2] [141 130 163 272 198] [74 68 87 75 75] [82 83 84 85 86 87 88 89 90]]
   [82 "WAN integration tasks" [2 3 2 2 3] [125 150 133 138 274] [76 84 85 85 67] [51]]
   [83 "DBMgmtSys Training" [6 7 6 5 6] [219 315 245 399 234] [90 93 92 102 105] [82]]
   [84 "DBMgmtSys API Design Spec Cleanup & Updates" [4 4 5 5 4] [266 199 229 205 164] [45 47 49 49 44] [47]]
   [85 "DBMgmtSys Driver Design Spec Cleanup & Updates" [9 6 8 9 6] [173 147 198 133 197] [73 67 80 77 61] [83]]
   [86 "DBMgmtSys API Design Spec Review" [1 1 1 1 2] [123 172 101 123 163] [79 74 73 68 81] [84]]
   [87 "DBMgmtSys Driver Design Spec Review" [1 1 2 1 2] [278 225 232 315 242] [16 14 16 19 14] [85]]
   [88 "DBMgmtSys API Design Spec Final Update" [3 4 4 3 4] [141 136 137 165 133] [58 63 50 51 62] [86]]
   [89 "DBMgmtSys Driver Design Spec Final Update" [1 1 1 2 2] [152 185 130 134 289] [27 28 25 29 31] [87]]
   [90 "Enhanced DBMgmtSys Design Complete" [0 0 0 0 0] [149 105 112 157 193] [82 88 75 79 93] [88 89]]
   [91 "Extended Address & Router Survey Packet Design" [1 1 2 2 2] [285 238 214 214 288] [56 61 49 56 67] [92 93 94 95 96 97 98 99 100 101 102 103 104 105]]
   [92 "Engineer becomes available" [0 0 0 0 0] [134 193 112 152 127] [76 86 81 70 66] []]
   [93 "training for RouterNetLayer & RouterAPI" [8 8 6 8 6] [623 742 591 645 695] [63 61 63 71 61] [92]]
   [94 "RouterNetLayer Design Spec Cleanup & Updates (Ext. Addr)" [1 14 13 12 91] [187 194 141 113 129] [90 94 82 82 91] [51 93]]
   [95 "RouterNetLayer Design Spec Review (Ext. Addr)" [1 1 2 2 2] [684 551 819 621 783] [86 80 97 99 95] [94]]
   [96 "RouterNetLayer Design Spec Final Update (Ext. Addr)" [2 2 3 3 3] [246 215 278 296 270] [74 71 61 76 83] [95]]
   [97 "RouterAPI Design Spec Cleanup & Updates (Ext. Addr)" [4 4 4 5 4] [282 265 260 263 220] [43 51 46 45 48] [96]]
   [98 "RouterAPI Design Spec Review (Ext. Addr)" [1 2 1 2 1] [102 156 104 152 145] [36 37 43 40 38] [97]]
   [99 "RouterAPI Design Spec Final Update (Ext. Addr)" [2 3 2 2 2] [225 218 234 255 294] [5 6 5 5 5] [98]]
   [100 "Router Requirements Spec Update (Suma's comments)" [1 2 1 1 2] [176 107 102 146 132] [38 43 41 36 45] [99]]
   [101 "training for Router_IPAddr & RouterAPI" [4 5 4 5 4] [192 284 185 157 135] [7 8 8 8 7] [137]]
   [102 "Router_IPAddr Design Spec Cleanup & Updates (Ext. Addr)" [1 10 12 10 40] [445 435 463 451 457] [17 19 17 16 16] [51]]
   [103 "Router_IPAddr Design Spec Review (Ext. Addr)" [2 3 2 2 3] [513 509 504 491 571] [5 5 6 6 5] [94 102]]
   [104 "Router_IPAddr Design Spec Final Update (Ext. Addr)" [1 1 2 2 2] [256 289 174 215 294] [3 3 3 4 4] [103]]
   [105 "Ext. Addr. & Survey Pkt. Design Complete" [0 0 0 0 0] [711 709 670 640 581] [43 41 46 45 40] [96 99 104]]
   [106 "SQA System Verification Plan & Quality Goals" [1 2 2 2 1] [139 102 214 227 194] [38 35 38 36 40] [107 108 109]]
   [107 "Write System Verification Plan & Quality Goals" [7 8 5 7 7] [220 179 210 174 158] [82 80 85 91 73] [59]]
   [108 "Review System Verification Plan & Quality Goals" [1 2 1 2 1] [100 168 176 133 128] [6 7 6 7 6] [107]]
   [109 "Final Update System Verification Plan & Quality Goals" [1 2 1 1 1] [783 881 633 900 731] [61 52 64 65 59] [108]]
   [110 "SQA Partial Integration Test Plan (high level)" [1 2 1 1 2] [221 208 277 262 236] [84 90 98 99 77] [111 112 113]]
   [111 "Write Integration Test Plan (shell)" [3 4 3 4 4] [248 218 135 233 265] [59 60 58 51 64] [109]]
   [112 "Review Integration Test Plan" [1 2 2 2 2] [373 326 312 340 402] [58 50 69 65 56] [111]]
   [113 "Update Integration Test Plan" [2 3 2 3 2] [156 189 190 139 199] [77 65 77 67 84] [112]]
   [114 "SQA System Level Test Plan" [2 3 2 2 3] [296 262 396 276 252] [28 33 29 27 25] [115 116 117]]
   [115 "Write System Test Plan" [5 5 7 5 6] [34 29 35 33 31] [64 67 64 59 59] [113]]
   [116 "Review System Test Plan" [1 2 1 1 1] [155 178 153 120 162] [74 61 82 82 65] [115]]
   [117 "Update System Test Plan" [2 3 3 3 2] [192 126 141 177 119] [31 27 29 36 33] [116]]
   [118 "Phase 4 -- Development" [2 3 3 3 2] [175 123 106 127 118] [34 39 30 39 35] [119 122 126 132 138 154 159 166 172 173 179 218 239 242 245 276]]
   [119 "SQA Regression Test Plan" [2 2 2 2 3] [264 297 219 354 286] [99 89 102 81 89] [120 121]]
   [120 "Evaluate regression tools (DBMgmtTest,RouterTest)" [4 4 5 5 5] [256 223 284 221 115] [69 73 69 73 64] [117]]
   [121 "Write initial regression test plan (shell)" [2 2 3 2 3] [165 182 140 196 194] [84 99 86 77 77] [120]]
   [122 "Alpha Test Plan" [2 2 2 2 2] [176 190 165 190 153] [98 95 115 107 94] [123 124 125]]
   [123 "Draft alpha test plan" [5 5 7 5 7] [295 241 236 267 272] [12 12 13 12 11] [121]]
   [124 "Review Alpha Test Plan" [3 3 4 4 4] [191 210 186 186 171] [64 61 56 61 55] [123]]
   [125 "Update Alpha Test Plan" [2 3 3 2 3] [210 314 275 289 379] [35 37 35 32 36] [124]]
   [126 "Beta Test Plan" [2 2 2 2 3] [150 242 131 164 183] [12 12 12 13 13] [127 128 129 130 131]]
   [127 "Draft Beta Test Plan - high level" [5 4 5 4 6] [303 255 265 282 247] [66 58 60 70 55] [125]]
   [128 "Review Beta Test plan" [5 7 6 7 7] [938 109 780 954 183] [13 14 14 12 15] [127]]
   [129 "Update Beta Test plan" [3 4 4 3 4] [56 54 58 45 59] [64 60 64 64 56] [128]]
   [130 "Determine beta site from current beta test customers" [1 11 14 12 10] [279 250 302 348 385] [41 46 49 35 40] [129]]
   [131 "Update beta plan with customers" [5 5 7 5 5] [606 593 627 544 566] [58 50 53 61 68] [130]]
   [132 "RouterProtocol Implementation" [2 2 2 3 2] [205 265 273 256 217] [81 92 74 86 81] [133 134 135 136 137]]
   [133 "Modify RouterProtocol library" [5 5 7 7 5] [195 116 101 106 135] [99 92 117 106 110] [80]]
   [134 "Modify applications using RouterProtocol library" [6 7 6 7 7] [239 276 194 203 265] [57 49 68 63 56] [133]]
   [135 "Modify RouterTest (with RouterProtocol changes)" [3 4 4 4 4] [368 321 399 362 352] [20 20 21 19 19] [134]]
   [136 "Unit test Router_IPAddr, RouterNetLayer, RouterNetLayerD with RouterTest" [5 6 5 7 4] [187 158 103 174 137] [36 37 36 36 42] [135]]
   [137 "RouterProtocol Implementation Complete" [0 0 0 0 0] [123 194 131 150 153] [31 28 37 31 35] [136]]
   [138 "Enhanced DBMgmtSys Implementation" [2 3 2 3 2] [445 477 445 490 511] [14 13 13 13 16] [139 140 141 142 143 144 145 146 147 148 149 150 151 152 153]]
   [139 "Code DBMgmtSys User API" [1 16 13 19 14] [220 156 296 247 136] [86 85 78 78 75] [88]]
   [140 "Code DBMgmtSys Control API" [8 11 6 10 8] [918 142 997 981 775] [66 61 57 62 60] [139]]
   [141 "Code DBMgmtSys Driver" [6 7 6 8 7] [188 142 107 113 142] [74 67 63 78 72] [89]]
   [142 "Code DBMgmtTest(User Interface)" [9 12 6 12 8] [132 115 119 178 139] [32 38 30 33 29] [141]]
   [143 "Code DBMgmtTest (Low level DBMgmtSys Interface)" [5 4 7 4 7] [273 325 348 208 219] [85 100 71 83 92] [140 142]]
   [144 "Unit test DBMgmtSys API & driver (part I)" [1 13 8 17 12] [128 120 176 165 163] [69 66 67 78 78] [143]]
   [145 "DBMgmtSys API ready for use by Core Systems" [0 0 0 0 0] [119 136 137 125 105] [15 15 16 15 17] [144]]
   [146 "Unit test DBMgmtSys API & driver (part II)" [6 7 6 8 5] [251 288 271 295 218] [60 57 50 68 65] [145]]
   [147 "Update Integration plan - Phase 1 (DBMgmtSys only)" [3 4 3 4 4] [252 271 274 391 372] [87 93 78 92 72] [121]]
   [148 "Update Regression test plan/scripts - Phase 1 (DBMgmtSys only)" [3 3 3 3 4] [294 263 178 194 176] [6 7 7 6 7] [147]]
   [149 "Integrate DBMgmtSysAPI, DBMgmtSysDRVR, DBMgmtTest" [4 4 4 4 5] [131 112 105 137 154] [47 52 39 48 56] [146 148]]
   [150 "Update DBMgmtSys API Manual Pages" [2 2 3 3 2] [121 198 114 102 182] [69 70 58 78 67] [146]]
   [151 "Review DBMgmtSys API Manual Pages" [2 3 2 2 2] [167 153 230 177 132] [60 52 55 62 53] [150]]
   [152 "Final Update DBMgmtSys API Manual Pages" [1 1 1 2 2] [256 287 259 228 225] [39 36 46 41 46] [151]]
   [153 "DBMgmtSys Enhancements Unit tested" [0 0 0 0 0] [240 204 263 279 222] [49 51 57 51 52] []]
   [154 "Write InterProcMsgSys to DBMgmtSys Migration User Guide" [2 2 3 3 3] [768 812 844 743 872] [86 90 92 77 95] [155 156 157 158]]
   [155 "Write InterProcMsgSys to DBMgmtSys User Guide" [1 17 22 21 28] [112 102 116 191 237] [2 2 3 2 2] [73]]
   [156 "Review InterProcMsgSys to DBMgmtSys User Guide" [1 1 2 1 1] [532 620 566 456 565] [35 32 41 35 31] [155]]
   [157 "Update InterProcMsgSys to DBMgmtSys User Guide" [6 8 6 8 5] [129 146 149 199 159] [39 41 37 42 36] [156]]
   [158 "InterProcMsgSys to DBMgmtSys Migration User Guide Complete" [0 0 0 0 0] [164 141 181 150 198] [22 26 21 21 20] [157]]
   [159 "Migrate NSG Core Systems to new DBMgmtSys API" [1 2 2 1 1] [168 153 156 180 173] [35 41 33 37 35] [160]]
   [160 "Upgrade Router_IPAddr and dependencies" [1 2 2 1 1] [218 189 223 261 244] [11 10 13 11 12] [161 162 163 164 165]]
   [161 "Upgrade RouterProtocol,RouterAPI,RTL,Router_IPAddr to new DBMgmtSys API" [3 4 4 4 3] [265 335 293 282 259] [53 47 52 53 55] [104 145]]
   [162 "Unit test Router_IPAddr with new DBMgmtSys API" [1 1 2 2 2] [228 239 253 238 281] [13 12 15 12 13] [161]]
   [163 "Upgrade IntegrationPlan - Phase 2 (w Router_IPAddr)" [2 2 3 2 2] [76 86 88 74 90] [36 32 35 40 30] [149]]
   [164 "Update Regression test plan/scripts - Phase 2 (w Router_IPAddr)" [2 2 3 3 2] [850 786 893 681 817] [9 9 10 10 10] [163]]
   [165 "Integration tests for Router_IPAddr (multiple workstations)" [3 3 4 3 4] [270 286 268 289 224] [7 8 8 8 7] [162 164]]
   [166 "Upgrade RouterNetLayer and dependencies" [2 3 2 3 3] [551 540 473 600 658] [93 82 98 107 96] [167 168 169 170 171]]
   [167 "Upgrade RouterNetLayer, RouterCellCntrlrNetLayer to new API" [2 2 2 3 2] [179 200 150 169 176] [37 33 37 33 34] [162]]
   [168 "Unit test RouterNetLayer and RouterCellCntrlrNetLayer" [2 2 3 2 2] [274 264 303 306 293] [5 5 5 5 6] [167]]
   [169 "Upgrade Integration Plan - Phase 3 (w RouterNetLayer & CellCntrlr)" [2 2 2 2 3] [202 236 346 214 266] [88 100 98 105 94] [165]]
   [170 "Update Regression test plan/scripts - Phase 3 (w RouterNetLayer & CellCntrlr)" [2 3 3 3 2] [183 158 167 110 127] [99 89 90 84 114] [169 121]]
   [171 "Integration tests for RouterNetLayer (multiple CellCntrlrs)" [3 4 4 4 4] [258 206 298 209 208] [79 66 73 87 92] [168 170]]
   [172 "Integrate and Test All 3 Phases Together" [1 1 2 1 2] [100 105 280 162 137] [88 83 95 82 75] [171]]
   [173 "Non-XDR CellCntrlr Packaging Implementation" [1 1 2 2 1] [244 221 257 245 209] [18 19 17 18 18] [174 175 176 177 178]]
   [174 "Code ObjectBroker API changes" [2 2 2 3 3] [146 185 181 196 161] [4 4 4 4 5] [158 172]]
   [175 "Unit test ObjectBroker API changes" [2 2 3 2 2] [256 241 256 375 201] [55 54 64 54 62] [174]]
   [176 "Integrate ObjectBroker API changes" [2 3 3 2 2] [133 189 161 159 242] [31 26 26 30 29] [175]]
   [177 "Code Review ObjectBroker API changes" [1 1 2 1 1] [123 174 263 188 114] [14 15 13 16 14] [176]]
   [178 "Non-XDR CellCntrlr Packaging Unit tested & Integrated" [0 0 0 0 0] [270 368 382 399 320] [79 71 76 81 85] [177]]
   [179 "Extended Addressing System Migration" [1 2 2 2 1] [997 108 906 919 114] [36 37 30 32 36] [180 181 200]]
   [180 "Good DIAB CellCntrlr build" [0 0 0 0 0] [744 837 821 814 735] [52 48 49 62 44] []]
   [181 "Implementation (System Migration)" [1 1 2 2 2] [278 250 205 287 258] [55 64 57 50 64] [182 188 194 199]]
   [182 "Network SW Group (NSG)" [1 1 2 2 1] [115 166 136 964 130] [71 61 81 70 72] [183 184 185 186 187]]
   [183 "NSG breaks Release10 tree (DBMgmtSys promotion)" [1 1 1 1 1] [125 838 978 121 174] [67 70 71 79 75] [180]]
   [184 "Ext Addr team merges into Release10" [5 5 4 4 7] [178 897 156 108 137] [77 72 87 65 91] [183]]
   [185 "Release10 Host DBMgmtSys and Router builds successfully" [1 1 1 1 1] [166 146 107 159 113] [45 39 48 44 44] [184]]
   [186 "NSG projects migration" [8 8 10 10 8] [142 143 110 287 289] [95 87 88 105 86] [185]]
   [187 "NSG migration complete" [0 0 0 0 0] [203 287 139 193 220] [64 67 58 70 56] [186]]
   [188 "Embedded Systems Group (ESG)" [1 2 1 2 2] [146 174 166 144 131] [76 87 65 77 73] [189 190 191 192 193]]
   [189 "ESG projects migration (DBMgmtTest projects)" [6 5 5 7 5] [277 295 292 211 294] [33 28 29 31 35] [183]]
   [190 "CellCntrlr DBMgmtTest builds successfully" [0 0 0 0 0] [132 117 189 119 205] [51 46 54 54 42] [189]]
   [191 "ESG projects migration (reMgmtAPIning projects)" [4 5 4 4 4] [249 154 239 251 233] [48 47 50 40 50] [190]]
   [192 "CellCntrlr full build successful" [0 0 0 0 0] [276 239 276 176 175] [26 29 29 24 28] [191]]
   [193 "Unit tests for CellCntrlr platform (local, without ObjectFramework)" [4 4 4 5 4] [202 335 275 346 223] [19 20 21 19 19] [192]]
   [194 "Object Mgmt System (ObjectFramework) Group" [1 2 1 1 2] [237 271 282 238 205] [84 97 98 75 74] [195 196 197 198]]
   [195 "ObjectFramework Infrastructure partial merge into Release10" [1 2 1 2 2] [283 355 252 287 282] [11 13 13 10 10] []]
   [196 "ObjectFramework Infrastructure migration" [5 6 7 4 5] [91 75 80 88 107] [52 60 62 43 55] [195]]
   [197 "ObjectFramework Release9 apps merge into Release10" [1 1 2 2 2] [159 163 110 196 154] [55 54 59 47 48] [185]]
   [198 "ObjectFramework non-infrastructure apps migration" [4 4 4 5 4] [208 166 270 276 270] [70 63 59 66 75] [197]]
   [199 "First full system build (NSG, ESG & OMS)" [1 1 1 1 2] [237 295 387 323 221] [6 7 7 7 7] [198]]
   [200 "Testing" [2 3 2 2 3] [261 334 240 270 377] [95 95 85 94 108] [201 205 210 215]]
   [201 "Network SW Group (NSG)" [1 2 2 2 1] [291 314 230 243 331] [83 79 73 99 78] [199 202 203 204]]
   [202 "Unit tests for NSG projects (all)" [4 4 4 5 4] [195 145 160 147 118] [28 27 32 25 32] [199]]
   [203 "Release9 remerge into Release10 (alpha bug fixes)" [1 2 1 1 2] [494 525 592 507 593] [83 83 82 77 79] [202]]
   [204 "Bug Weeks" [1 7 11 14 9] [156 177 166 186 154] [55 63 64 55 54] [203]]
   [205 "Embedded Systems Group (ESG)" [1 2 2 2 2] [402 401 414 413 333] [61 70 52 70 71] [206 207 208 209]]
   [206 "Unit tests for CellCntrlr platform (across WAN, using ObjectFramework)" [3 4 4 3 3] [115 123 127 98 94] [50 57 50 50 54] [199]]
   [207 "Regression tests for CellCntrlr platform" [1 1 1 1 2] [179 165 115 219 190] [44 47 50 47 40] [206]]
   [208 "Release9 remerge into Release10" [1 1 2 1 2] [260 169 261 228 283] [4 5 4 5 5] [207]]
   [209 "Bug Weeks" [1 8 11 12 10] [143 114 123 123 190] [56 57 48 55 60] [208]]
   [210 "Object Mgmt System (ObjectFramework) Group" [1 2 2 1 1] [629 727 513 721 533] [39 38 33 43 42] [211 212 213 214]]
   [211 "Unit tests for Infrastructure projects" [1 16 14 14 11] [115 181 198 110 121] [44 40 50 52 49] [196]]
   [212 "Unit tests for non-infrastructure apps" [5 7 5 7 6] [972 994 820 806 897] [64 66 55 71 59] [199]]
   [213 "Release9 remerge into Release10" [1 2 2 2 1] [216 227 211 254 186] [5 6 5 5 6] [212]]
   [214 "Bug Weeks" [9 7 9 7 11] [276 279 291 300 246] [72 77 59 80 76] [213]]
   [215 "Software Quality Assurance (SQA)" [1 2 2 1 2] [230 208 233 294 363] [57 53 50 57 57] [216 217]]
   [216 "SQA available after Release9 Alpha2" [0 0 0 0 0] [129 166 115 123 917] [49 53 51 42 44] []]
   [217 "SQA System Tests" [1 19 18 12 15] [189 118 164 146 163] [1 2 2 1 1] [216]]
   [218 "Extended Address & Router Survey Packet Implementation" [2 2 2 3 2] [417 343 357 418 408] [95 100 95 110 104] [219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238]]
   [219 "Code RouterTest changes (Ext. Addr)" [6 5 6 5 7] [226 180 101 274 177] [73 66 60 67 86] [232]]
   [220 "Code RouterAPI changes (Ext. Addr)" [3 3 4 4 4] [607 604 628 489 646] [76 87 75 74 67] [219]]
   [221 "Code RouterAPITEST changes" [3 4 4 4 3] [116 101 135 109 146] [90 102 74 89 100] [220]]
   [222 "Unit test RouterAPI changes (Ext. Addr)" [2 3 2 3 2] [167 151 107 242 143] [54 53 49 63 59] [221]]
   [223 "NetLayer Func & Design Doc Updates" [3 4 4 3 4] [178 128 242 186 135] [43 38 41 37 37] [222]]
   [224 "Code RouterNetLayer changes (Ext. Addr)" [9 7 13 11 8] [254 348 277 288 354] [11 12 12 13 13] [223]]
   [225 "Code RouterCellCntrlrNetLayer changes (Ext. Addr)" [6 8 6 6 8] [273 213 290 228 377] [27 26 23 25 29] [224]]
   [226 "Unit test RouterNetLayer (Ext. Addr)" [3 4 3 4 3] [168 142 176 140 184] [50 53 55 54 50] [219]]
   [227 "Unit test RouterCellCntrlrNetLayer (Ext. Addr)" [2 2 3 2 3] [694 778 616 679 579] [28 26 33 29 26] [226]]
   [228 "Preliminary Integration Ext. Addr & Survey Pkt. Components" [4 4 4 4 5] [848 908 814 685 798] [82 68 85 86 86] [222 226 227]]
   [229 "Update Integration Plan - Phase 4 (Survey Pkts)" [2 2 2 3 2] [84 79 72 70 101] [86 100 90 75 94] [172]]
   [230 "Update regression test plan/scripts - Phase 4 (Survey Pkts)" [2 2 2 3 2] [25 21 27 26 21] [86 85 88 70 84] [229]]
   [231 "Integrate Ext Addr & Survey Pkt components" [4 5 4 4 4] [194 180 160 119 108] [22 23 19 25 21] [227 230]]
   [232 "Code Review/Update ALL Core System changes (DBMgmtSys API changes)" [4 4 4 4 4] [223 257 226 224 206] [31 37 28 28 29] [168]]
   [233 "Core System components integrated (DBMgmtSys API changes)" [0 0 0 0 0] [101 183 241 231 172] [25 27 24 22 28] [172 232]]
   [234 "Code Review/Update RouterAPI changes (Ext. Addr)" [2 2 3 3 2] [264 350 220 244 304] [25 27 22 26 27] [231]]
   [235 "Code Review/Update RouterNetLayer changes (Ext. Addr)" [2 3 3 3 3] [154 112 154 139 105] [62 73 56 70 68] [234]]
   [236 "Code Review/Update RouterCellCntrlrNetLayer changes (Ext. Addr)" [2 2 2 3 2] [150 151 182 143 148] [34 36 29 31 38] [235]]
   [237 "Code Review/Update RouterTest changes (Ext. Addr)" [1 1 1 1 2] [226 251 253 186 283] [58 51 54 57 61] [228]]
   [238 "Ext. Addr. & Survey Pkt. Unit tested and Integrated" [0 0 0 0 0] [114 118 111 136 123] [14 13 13 15 14] [234 235 236 237]]
   [239 "SQA Systems Tests" [1 1 1 1 2] [288 310 296 269 323] [6 7 7 6 6] [240 241]]
   [240 "Execute System Test Plan" [4 4 4 4 5] [288 230 251 232 200] [52 60 55 60 44] [231]]
   [241 "Write System Test Report" [2 2 3 3 3] [126 151 197 152 131] [47 41 43 52 56] [240]]
   [242 "SQA Regression Tests" [2 2 2 2 3] [262 257 359 200 394] [48 47 40 46 44] [243 244]]
   [243 "Execute regression tests" [5 6 5 4 5] [134 182 111 153 199] [19 19 19 17 20] [241 170]]
   [244 "Write regression test report" [1 1 1 1 2] [45 39 36 50 38] [97 116 94 111 80] [243]]
   [245 "Post Development Reviews and Updates" [2 2 3 3 2] [126 180 157 196 173] [7 8 8 8 8] [246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275]]
   [246 "Team available after bug weeks" [0 0 0 0 0] [814 825 720 972 677] [5 5 5 6 6] [204 209 214]]
   [247 "Investigate Purify/Purecoverage" [3 3 4 3 3] [273 206 223 394 341] [93 93 103 95 79] [246]]
   [248 "Router Users Guide Update" [2 3 3 3 2] [255 256 273 218 219] [3 4 3 4 4] [247]]
   [249 "MgmtAPI Design Spec Update" [1 1 1 2 2] [85 95 87 89 81] [0 0 0 0 0] [248]]
   [250 "Router_IPAddr Design Spec Review" [1 1 1 1 1] [246 237 280 285 229] [70 78 64 71 64] [246]]
   [251 "Router_IPAddr Design Spec Update" [1 1 2 2 2] [746 758 703 626 739] [12 12 14 13 14] [249]]
   [252 "MgmtAPI Code Review" [2 2 2 3 2] [104 110 128 184 190] [95 86 109 88 105] [250]]
   [253 "MgmtAPI Code Update" [1 1 2 1 2] [242 220 295 262 235] [97 97 104 86 102] [251]]
   [254 "RouterTest Code Review" [1 2 1 2 2] [239 119 207 227 264] [43 40 45 38 48] [252]]
   [255 "RouterTest Code Update" [1 1 2 2 1] [119 140 129 111 192] [30 31 28 30 35] [253]]
   [256 "RouterAPI Design Spec Review" [0.5 1 0.5 2 1] [269 269 274 295 295] [40 38 40 37 36] [254]]
   [257 "RouterAPI Design Spec Update" [0.5 0.5 0.5 1 2] [147 250 116 147 166] [9 9 10 9 9] [247]]
   [258 "RouterNetLayer Spec Review" [1 1 1 1 2] [183 134 114 139 150] [89 90 82 79 103] [256]]
   [259 "RouterNetLayer Spec Update" [1 2 2 2 1] [231 214 262 298 271] [8 8 9 8 9] [257]]
   [260 "RouterAPI Code Review" [0.5 0.5 3 2 1] [213 261 229 358 254] [58 59 49 66 67] [258]]
   [261 "RouterAPI Code Updates" [0.5 2 1 3 1] [880 724 799 811 827] [43 48 41 48 47] [259]]
   [262 "RouterNetLayer Code Review" [1 1 1 1 1] [126 154 162 100 124] [31 31 29 36 30] [260]]
   [263 "RouterNetLayer Code Updates" [1 1 1 1 2] [287 298 259 245 223] [2 2 3 2 2] [261]]
   [264 "DBMgmtSys Driver Spec Review" [1 2 2 2 1] [239 275 281 238 230] [59 49 56 50 53] [262]]
   [265 "DBMgmtSys Driver Spec Update" [2 3 3 2 2] [816 812 683 814 662] [15 15 16 16 17] [246]]
   [266 "DBMgmtSys Driver Code Review" [2 2 3 3 2] [202 223 272 252 254] [37 43 40 32 42] [246]]
   [267 "DBMgmtSys Driver Code Update" [1 2 1 2 2] [870 897 115 742 127] [33 34 36 33 29] [266]]
   [268 "DBMgmtSys API Spec Review" [2 3 3 2 2] [316 346 295 321 265] [1 1 2 2 1] [264]]
   [269 "DBMgmtSys API Spec Update" [1 1 2 1 2] [143 118 229 196 230] [5 5 6 5 5] [266]]
   [270 "DBMgmtSys API Code Review" [2 3 3 2 3] [722 753 714 595 696] [33 38 38 39 37] [268]]
   [271 "DBMgmtSys API Code Update" [1 2 2 1 1] [28 24 31 28 30] [38 44 42 41 43] [269]]
   [272 "DBMgmtTest Code Review" [1 1 1 2 1] [973 975 991 188 112] [23 25 25 27 21] [270]]
   [273 "DBMgmtTest Code Update" [1 2 2 1 1] [391 411 355 335 451] [27 29 28 31 28] [271]]
   [274 "DBMgmtSys Man Page Review" [2 3 2 3 3] [202 316 352 294 243] [70 63 74 65 82] [272]]
   [275 "DBMgmtSys Man Page Updates" [1 1 1 1 1] [102 169 139 183 110] [11 13 11 13 11] [273 276]]
   [276 "Post Development Maintenance & Bug fixes" [1 1 1 2 1] [198 168 140 138 169] [58 69 69 55 67] []]
   [277 "Router Project Purify & Bug fixes" [5 6 7 7 4] [33 29 35 29 32] [75 69 75 74 88] [263]]
   [278 "DBMgmtSys Project Purify & Bug fixes" [5 4 6 7 7] [177 905 153 163 936] [11 11 10 12 13] [275]]
   [279 "Development Phase Complete" [0 0 0 0 0] [264 245 318 225 251] [10 11 10 11 11] [277 278]]
   [280 "Phase 5 -- Alpha Testing" [1 2 2 1 2] [166 157 113 140 152] [66 69 59 60 66] [281 282]]
   [281 "Alpha Tests" [2 20 17 22 20] [110 150 151 199 142] [28 32 27 33 32] [125]]
   [282 "Alpha Tests Complete" [0 0 0 0 0] [256 240 203 274 177] [72 75 72 62 72] [281]]
   [283 "Phase 6 -- Beta Testing" [2 16 24 25 20] [942 104 916 756 950] [29 34 33 25 29] [284 285]]
   [284 "Beta Tests" [2 25 16 23 20] [716 630 846 833 775] [35 41 36 35 31] [282 131]]
   [285 "Beta Tests Complete" [0 0 0 0 0] [195 103 177 904 165] [28 25 31 33 29] [284]]
   [286 "Phase 7 -- Release" [3 4 3 4 4] [111 150 149 144 104] [40 34 39 43 40] [287]]
   [287 "Software Release Process" [3 3 4 4 4] [291 291 232 268 317] [6 7 6 7 6] [285]]
   [288 "Extended Addressing Project Complete" [0 0 0 0 0] [278 263 240 285 263] [98 86 105 97 90] [287]]])

(defn large-wbs-ra-run []
  (let [w (repeat 288 1)]
    (ra w large-wbs-tasks 6000000 300)))

(deftest large-wbs-tasks-test
  (let [sol (ra large-wbs-tasks-w large-wbs-tasks 70000 300)]
    (is (= (dissoc sol :x) {:quality 139430
                            :finances 69835
                            :time 226}))))